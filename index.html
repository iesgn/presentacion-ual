---
layout: presentacion
title: Infraestructura en la nube con OpenStack
tema: white
---
<section data-background="http://iesgn.github.io/presentacion-ual/img/openstack.png">
  <h2>Infraestructura en la nube con OpenStack</h2>
  <p>
    <a href="http://albertomolina.wordpress.com">Alberto Molina Coballes</a> y
    <a href="http://www.josedomingo.org">José Domingo Muñoz Rodríguez</a>
  </p>
  <p>
    <a href="http://creativecommons.org/licenses/by-sa/3.0/">
      <img src="img/cc_by_sa.png" width="100px" border="0"/></a>
  </p>
  <p><small>II Semana Informática. Universidad de Almería. 17 Febrero 2015</small></p>
</section>
<section>
  <h2>Sobre nosotros</h2>
  <ul>
    <li>Profesores de Formación Profesional en el <a href="http://informatica.gonzalonazareno.org/portal/">IES Gonzalo Nazareno</a> de Dos Hermanas (Sevilla)</li>
    <li>Administradores de Sistemas GNU/Linux</li>
    <li>Detectamos demanda de formación en cloud computing</li>
    <li>2011-2012: <a href="http://www.gonzalonazareno.org/cloud/">Proyecto de Innovación Mº Educación</a></li>
    <li>Administramos un cloud privado OpenStack desde Abril 2012</li>
  </ul>
</section>
<section>
  <section>
    <h2>Infraestructura: Evolución</h2>
    <h3>¿A qué llamamos infraestructura?</h3>
    <p>Equipos para procesamiento, conexión y almacenamiento de datos</p>
    <h3>Evolución</h3>
    <ol>
      <li>Equipos físicos</li>
      <li>Máquinas virtuales</li>
      <li>Infraestructura en la nube</li>
    </ol>
  </section>
  <section>
    <h2>Infraestructura tradicional</h2>
    <ul>
      <li>Adquisición de equipos</li>
      <li>Montaje físico</li>
      <li>Instalación y configuración "manual"</li>
      <li>Conexión a través de redes físicas</li>
      <li>Gestión del almacenamiento NAS o SAN</li>
      <li>Estática: Mismas configuraciones durante años</li>
      <li>Usuarios sin acceso directo</li>
    </ul>
  </section>
  <section>
    <h2>Virtualización de máquinas</h2>
    <ul>
      <li>Dentro de un solo equipo físico se ejecutan varias MVs</li>
      <li>El sw para la gestión de MVs se denomina hipervisor</li>
      <li>Se conectan las MVs entre sí en redes virtuales</li>
      <li>Sin cambios relevantes en almacenamiento</li>
      <li>Gestión similar a la infraestructura tradicional</li>
    </ul>
  </section>
  <section>
    <h2>Infraestructura en nube</h2>
    <ul>
      <li>Virtualización de máquinas</li>
      <li>Virtualización de la red &#8680; SDN</li>
      <li>Virtualización del almacenamiento</li>
      <li>Agrupamiento de los recursos</li>
      <li>Dinámica</li>
      <li>Configuración automática</li>
      <li>El usuario sí puede gestionar su infraestructura</li>
    </ul>
  </section>
</section>
<section data-background="#FFCC99">
  <h2>Cloud Computing</h2>
</section>
<section>
  <section data-background="#FFCC99">
    <h2>Cloud Computing. Características</h2>
    <ul>
      <li>Servicio disponible de forma automática y a demanda</li>
      <li>Accesible a través de la red</li>
      <li>Modelo multi-tenancy
	<ul>
	  <li>Se comparten los recursos con otros usuarios</li>
	  <li>Debe garantizarse aislamiento y seguridad entre
	    usuarios</li>
	</ul>
      </li>
      <li>Los recursos se agrupan en <em>pools</em></li>
      <li>Elasticidad</li>
      <li>Pago por uso</li>
    </ul>
    <br/>
    <p><small>Fuente: <a href="http://csrc.nist.gov/publications/nistpubs/800-145/SP800-145.pdf">The NIST Definition of Cloud Computing</a></small></p>
  </section>
  <section data-background="#FFCC99">
    <h2>... as a Service (...aaS)</h2>
    <ul>
      <li>Modelo de negocio no basado en la venta de licencias o
	hardware</li>
      <li>Oferta de servicios con caracterísicas de cloud</li>
      <li>Habitualmente se definen tres capas o niveles: SaaS, PaaS e
	IaaS</li>
    </ul>
  </section>
  <section data-background="#FFCC99">
    <h3>Software as a Service (SaaS)</h3>
    <p>Aplicación como servicio en la nube</p>
    <ul>
      <li class="fragment">El usuario utiliza una aplicación a través de la web en
	lugar de tenerla instalada en el propio equipo.
	Aviso: No todas las aplicaciones web son SaaS, deben cumplir
	con las características.</li>
      <li class="fragment">Utilizado por cualquier usuario</li>
      <li class="fragment">Ya lo usamos, pero se prevé que se use cada vez más</li>
      <li class="fragment">Ejemplos: Servicios de Google, Office365</li>
    </ul>
  </section>
  <section data-background="#FFCC99">
    <h3>Platform as a Service (PaaS)</h3>
    <p>Plataforma de desarrollo web en la nube</p>
    <ul>
      <li class="fragment">Utilizado por desarrolladores de software</li>
      <li class="fragment">Se proporciona toda la plataforma de desarrollo y despliegue
	de una aplicación al desarrollador</li>
      <li class="fragment">Ejemplos: Google App Engine, Windows Azure, Heroku,
	Openshift, CloudFoundry
    </ul>
  </section>
  <section data-background="#FFCC99">
    <h3>Infrastructure as a Service (IaaS)</h3>
    <p>Infraestructura como servicio en la nube</p>
    <ul>
      <li class="fragment">Utilizado principalmente por administradores de
	sistemas</li>
      <li class="fragment">Se proporciona principalmente capacidad de cómputo, redes y
	diversos modos de almacenamiento</li>
      <li class="fragment">Ejemplos: Amazon Web Services, Google Compute Engine</li>
    </ul>
  </section>
  <section data-background="#FFCC99">
    <a href="http://mschnlnine.vo.llnwd.net/d1/inetpub/kevinremde/Images/679669067395_DBE9/image_thumb.png"><img src="http://mschnlnine.vo.llnwd.net/d1/inetpub/kevinremde/Images/679669067395_DBE9/image_thumb.png" alt="iaas-paas-saas"/></a>
    <p><small>Fuente: <a href="http://blogs.technet.com/b/kevinremde/archive/2011/04/03/saas-paas-and-iaas-oh-my-quot-cloudy-april-quot-part-3.aspx">Kevin Remde: SaaS, PaaS, and IaaS.. Oh my!</a></small></p>
  </section>
</section>
<section data-background="#FFCC99">
  <h2>Tipos de despliegues</h2>
  <ul>
    <li><strong>Público</strong> Una empresa ofrece servicios a terceros, encargándose
      de toda la gestión del Cloud.</li>
    <li><strong>Privado</strong> Una organización configura sus propios recursos de
      forma mucho más flexible en una nube. En inglés también se
      denomina "On premise cloud"</li>
    <li><strong>Híbrido</strong> Se utilizan recursos de la nube privada o de una o
      varias nubes públicas en función de las características de cada
      caso o las necesidades puntuales que haya. Normalmente utilizan
      una API común que permita una buena integración.</li>
  </ul>
</section>
<section data-background="#FFCC99">
  <section>
    <h2>¿Cloud privado?</h2>
    <ul>
      <li>Los clouds públicos están bien, pero tienen algunos aspectos negativos:
	<ul>
	  <li>Privacidad</li>
	  <li>Seguridad</li>
	  <li><em>Vendor lock-in</em></li>
	  <li>Control sobre los datos</li>
	  <li>Personalización</li>
	  <li>¿Rendimiento?</li>
	  <li>¿Costes?</li>
      </ul></li>
      <li>Un cloud privado o híbrido es una opción a tener en cuenta si estos aspectos importan</li>
    </ul>
  </section>
  <section data-background="#FFCC99">
    <h2>IaaS</h2>
    <ul>
      <li>Proveedores de cloud público IaaS: AWS, GCE y Azure. ¿Hay sitio para alguien más?</li>
      <li>Cloud Privado: VMware y plataformas de Software Libre, principalmente OpenStack</li>
      <li class="fragment">IaaS es muy adecuada para servicios con demanda variable como el web:</li>
    </ul>
    <a class="fragment" href="img/munin-memory-monitoring.jpg"><img src="img/munin-memory-monitoring.jpg" alt="Munin web" /></a>
  </section>
  <section data-background="#FFCC99">
    <h3>Ejemplo de servicio en IaaS público</h3>
    <h4>Servicio web de vídeo bajo demanda</h4>
    <p><em>Problema: Requitos de hardware muy variables con grandes picos y
	valles</em></p>
    <p>Alto coste en infraestructura tradicional</p>
    
    <p><em>Solución: Clúster con un número de nodos variable en el
	tiempo y que se ajuste a la demanda</em></p>
    <ul>
      <li>Se incluyen balanceadores para repartir la carga</li>
      <li>Se crean de forma automática nuevos servidores cuando se
        precisa</li>
      <li>Cuando baja la demanda, se eliminan los servidores que
        sobren.</li>
    </ul>
    
  </section>
</section>
<section data-background="#A9D0F5">
  <h3>OpenStack</h3>
  <p><em>&ldquo;Plataforma de cloud computing hecha con
      software libre para desplegar nubes públicas y privadas,
      desarrollada con la idea de ser sencilla de implementar,
      masivamente escalable y con muchas prestaciones&rdquo;</em></p>
  <img src="img/openstack-software-diagram.png" alt="openstack-diagram"/>
</section>
<section data-background="#A9D0F5">
  <h2>¿Por qué OpenStack?</h2>
  <ul>
    <li>Porque queremos instalar nuestro propio software para
      proporcionar IaaS</li>
    <li>Porque es software libre</li>
    <li>Porque es un proyecto estable, con muchos apoyos y muy
      buenas perspectivas de futuro</li>
    <li>Porque tiene muchas funcionalidades</li>
    <li>Porque podemos utilizar hardware convencional</li>
    <li>Porque es fácil de instalar (ejem!)</li>
    <p><a href="http://blog.bitergia.com/2014/04/17/the-openstack-icehouse-release-activity-and-organizations/">Icehouse
	release: activity and organizations</a></p>
  </ul>
</section>
<section data-background="#A9D0F5">
  <h2>Otras alternativas</h2>
  <ul>
    <li><a href="http://opennebula.org/">OpenNebula</a>, <a href="http://cloudstack.apache.org/">CloudStack</a> y <a href="https://www.eucalyptus.com/">Eucalyptus</a>
      <ul>
        <li>Software libre</li>
        <li>Más compatibles con AWS</li>
        <li>Probablemente más sencillas de instalar</li>
        <li>Algunos componentes más maduros</li>
        <li>Proyectos más pequeños (pros y cons)</li>
    </ul></li>
    <li>VMware Vcloud
      <ul>
        <li>Software privativo</li>
        <li>Optimizado para vSphere</li>
        <li>No compite en IaaS pública</li>
	<li>Acaba de publicarse <a href="http://www.vmware.com/products/openstack">VIO</a></li>
      </ul>
  </ul>
</section>
<section data-background="#A9D0F5">
  <section data-background="#A9D0F5">
    <h2>Inicios de OpenStack</h2>
    <table>
      <col style="width: 25%" />
      <col style="width: 75%"/>
      <tr>
	<td style="text-align: center; vertical-align:middle;">
	  <img src="img/rackspace.png" alt="rackspace" width="120"/></td>
	<td>
          <ul>
            <li>Cloud propio desde 2005
	      <ul>
		<li>Cloud servers (IaaS)</li>
		<li>Cloud files (StaaS)</li>
	    </ul></li>
            <li>Cambia a licencia libre en Abril 2010</li>
          </ul>
	</td>
      </tr>
      <tr>
	<td style="text-align: center; vertical-align:middle;">
	  <img src="img/nasa.png" alt="nasa" width="120"/></td>
	<td>
          <ul>
            <li>Comienza a utilizar Eucalyptus, pero lo deja por
	      ser ''open core''</li>
            <li>Crea el software para IaaS Nebula</li>
            <li>Cambia a licencia libre en Mayo 2010</li>
          </ul>
	</td>
      </tr>
      <tr>
	<td style="text-align: center; vertical-align:middle;">
	  <img src="img/openstack.jpg" alt="openstack"  width="120"/></td>
	<td>
          <ul>
            <li>Ambas lo inician en Junio de 2010</li>
            <li>OpenStack Nova &#8678; Nebula</li>
            <li>OpenStack Swift &#8678; Cloud Files</li>
          </ul>
	</td>
      </tr>
    </table>
  </section>
  <section data-background="#A9D0F5">
    <h2>Versiones de OpenStack</h2>
    <p>Proyecto nuevo con un fuerte ritmo de desarrollo:</p>
    <table>
      <col style="width: 18%" />
      <col style="width: 32%" />
      <col style="width: 18%" />
      <col style="width: 32%" />
      <tr>
	<th>Versión</th>
	<th>Fecha</th>
	<th>Versión</th>
	<th>Fecha</th>
      </tr>
      <tr>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Austin">Austin</a></td>
	<td>Oct 2010</td>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Bexar">Bexar</a></td>
	<td>Feb 2011</td>
      </tr>
      <tr>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Cactus">Cactus</a></td>
	<td>Abr 2011</td>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Diablo">Diablo</a></td>
	<td>Sep 2011</td>
      </tr>
      <tr>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Essex">Essex</a></td>
	<td>Abr 2012</td>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Folsom">Folsom</a></td>
	<td>Sep 2012</td>
      </tr>
      <tr>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Grizzly">Grizzly</a></td>
	<td>Abr 2013</td>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Havana">Havana</a></td>
	<td>Oct 2013</td>
      </tr>
      <tr>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Icehouse">Icehouse</a></td>
	<td>Abr 2014</td>
	<td><a href="https://wiki.openstack.org/wiki/ReleaseNotes/Juno">Juno</a></td>
	<td>Oct 2014</td>
      </tr>
    </table>
  </section>
</section>
<section data-background="#A9D0F5">
  <section data-background="#A9D0F5">
    <h2>Principios fundacionales</h2>
    <p>En Septiembre de 2012 se cede el control del proyecto a
      la <a href="http://www.openstack.org/foundation/">OpenStack
	Foundation</a>
      <ul>
        <li><a href="http://www.apache.org/licenses/LICENSE-2.0.html">Licencia
            Apache 2.0</a>, no existe versión "enterprise"</li>
        <li>Proceso de <a href="https://blueprints.launchpad.net/openstack">diseño abierto</a></li>
        <li><a href="https://github.com/openstack/">Repositorios públicos de código fuente</a></li>
        <li>Todos los procesos de desarrollo deben estar documentados y
	  ser transparentes</li>
        <li>Orientado para adoptar estándares abiertos</li>
        <li>Diseño modular que permite flexibilidad mediante el uso de
          <a href="http://api.openstack.org/">APIs web</a></li>
      </ul>
  </section>
  <section>
    <h2>OpenStack Foundation</h2>
    <img width="80%" src="img/openstack_industry_support.png"
         alt="openstack_industry_support"/>
    <p>
      <small>Fuente: <a href="http://www.slideshare.net/randybias/state-of-the-stack-april-2013">cloudscaling</a></small><br/>
      <small><a href="http://www.openstack.org/foundation/companies/">Empresas
	  partipantes en la OpenStack Foundation</a></small></p>
  </section>
  <section>
    <h2>Componentes de OpenStack</h2>
    <a href="img/openstack-components.jpg"><img src="img/openstack-components.jpg" alt="openstack components" /></a>
    <p><small><a href="http://www.cloudscaling.com/blog/openstack/vanilla-openstack-doesnt-exist-and-never-will/">Fuente: Randy Bias - 'Vanilla OpenStack' Doesn’t Exist and Never Will</a></small></p>
  </section>
</section>
<section data-background="#CC9999">
  <section data-background="#CC9999">
    <h2>Demostración OpenStack</h2>
  </section>
  <section data-background="#CC9999">
    <h2>Conceptos previos (I)</h2>
    <ul>
      <li><strong>Imagen</strong>: Imagen de sistema operativo preconfigurado que se
	utiliza como base para crear instancias. Dentro del cloud habrá
	diferentes imágenes para cada tipo de instacia que se quiera
	utilizar.</li>
      <li><strong>Instancia</strong>: Instancia de una imagen que se crea a
	demanda del usuario en uno de los nodos del cloud.</li>
      <li><strong>Sabor</strong>: Define para una instancia el número de CPUs
	virtuales, la RAM, si dispone o no de discos efímeros, etc.</li>
    </ul>
  </section>
  <section data-background="#CC9999">
    <h2>Conceptos previos (II)</h2>
    <ul>
      <li><strong>IP fija</strong>: Direccion IP con la que se crean una
	instancia en una red y que se utiliza para comunicacion
	interna. La dirección IP
	fija no cambia durante la vida de la instancia.</li>
      <li><strong>IP flotante</strong>: Direccion IP asociada a una
	instancia en un momento dado para poder acceder a ella desde fuera. Una
	IP flotante puede asignarse a otra instancia diferente cuando se estime
	oportuno.</li>
      <li><strong>Grupo de seguridad</strong>: Reglas de cortafuegos que
	controlan el
	acceso a las instancias.</li>
      <li><strong>Par de claves ssh</strong>: Par de claves RSA pública/privada
	utilizadas para acceder por ssh a las instancias desde fuera del
	cloud.</li>
    </ul>
  </section>
  <section data-background="#CC9999">
    <h2>Conceptos previos (III)</h2>
    <a href="http://iesgn.github.io/presentacion-ual/img/openstack-diagram.png"><img src="http://iesgn.github.io/presentacion-ual/img/openstack-diagram_2.png"/></a>
  </section>  
</section>
<section>
  <section>
    <h2>Evolución de las aplicaciones</h2>
    <h3>Aplicaciones "clásicas"</h3>
    <ul>
      <li>No tolerantes a fallos</li>
      <li>Deben funcionar sobre hardware de altas prestaciones</li>
      <li>Típicamente escala verticalmente (<em>scale up</em>)
      <li>Funciona sobre máquinas de vida larga (virtuales o no)</li>
      <li>La redundancia la debe proporcionar el hardware</li>
    </ul>
  </section>
  <section>
    <h2>Evolución de las aplicaciones</h2>
    <h3>Aplicaciones nativas cloud</h3>
    <ul>
      <li>Tolerantes a fallos (resiliencia)</li>
      <li>Normalmente funcionan sobre máquinas de vida corta</li>
      <li>Escalado horizontal (<em>scale-out</em>)</li>
      <li>Elásticas</li>
      <li>Aplicaciones inteligentes</li>
      <li>Hardware convencional</li>
      <li>Automatización, agilismo, devops, ...</li>
    </ul>
    <p><small><a href="http://www.slideshare.net/KeithBasil/basil-w-0230introoverviewopenstackiaascloudsfinal">Keith Basil: Introduction and Overview of OpenStack for IaaS</a></small></p>
    <p><small><a href="http://www.slideshare.net/randybias/pets-vs-cattle-the-elastic-cloud-story">Randy Bias: Pets vs. Cattle: The Elastic Cloud Story</a></small></p>
  </section>
</section>
<section>
  <section>
    <h2>¿Y ahora qué?</h2>
    <h3>Soy (quiero ser) desarrollador</h3>
    <ul>
      <li>PaaS público</li>
      <li>IaaS público o privado</li>
      <li>Almacenamiento de objetos</li>
      <li>APIs RESTful</li>
      <li>Otras herramientas: vagrant, git, ansible, puppet, ...</li>
    </ul>
  </section>
  <section>
    <h2>¿Y ahora qué?</h2>
    <h3>Soy (quiero ser) administrador</h3>
    <ul>
      <li>IaaS público: AWS</li>
      <li>IaaS privado: OpenStack</li>
      <li>Infrastructure as Code:
	<ul>
	  <li>Gestión de la configuración: ansible, puppet, chef</li>
	  <li>Control de versiones: git</li>
	  <li>Integración continua</li>
	  <li>APIs RESTful</li>
	  <li>AMQP</li>
	  <li>Vagrant</li>
	  <li>Docker</li>
	</ul>
    </ul>
  </section>
</section>

<section>
  <h2>¡Gracias!</h2>
  <br/>
  <p>Alberto Molina Coballes</p>
  <p><a href="mailto:alb.molina@gmail.com">alb.molina@gmail.com</a> // 
    <a href="https://twitter.com/alberto_molina">@alberto_molina</a></p>
  <br/>
  <p>José Domingo Muñoz Rodríguez</p>
  <p><a href="mailto:josedom24@gmail.com">josedom24@gmail.com</a> // 
    <a href="https://twitter.com/pledin_jd">@pledin_jd</a></p>
</section>
